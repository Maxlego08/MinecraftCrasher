package uwu.narumi.crasher.core.exploit;

import uwu.narumi.crasher.api.exception.ExploitException;
import uwu.narumi.crasher.api.exploit.Exploit;
import uwu.narumi.crasher.api.exploit.ExploitInfo;
import uwu.narumi.crasher.api.exploit.argument.Argument;
import uwu.narumi.crasher.api.helper.AddressHelper.McAddress;
import uwu.narumi.crasher.api.helper.StringHelper;
import uwu.narumi.crasher.api.optimizer.Optimizer;

@ExploitInfo(
    name = "Bungee",
    description = "Simple bungee crasher",
    usage = "exploit bungee <address> <amount>"
)
public class Bungee extends Exploit<String> {

  public Bungee() {
    super(()-> StringHelper.getRandomUTF(Short.MAX_VALUE),
        new Argument("address", 0, McAddress.class),
        new Argument("amount", 1, Integer.class)
    );
  }

  @Override
  public void execute(Object... args) throws ExploitException {
    McAddress address = (McAddress) args[0];
    int amount = (int) args[1];

    Optimizer.startOptimizing(Bungee.class);
    for (int i = 0; i < amount; i++) {
      Optimizer.post(()-> {
        //LENNY https://i1.sndcdn.com/artworks-000399190167-gj0b7b-t500x500.jpg
      });
    }
  }
}
